#!/usr/bin/env node

const { mkdirSync, copyFileSync } = require("fs");
const { resolve } = require("path");

const srcPath = resolve(__dirname, "../assets");
const destPath = resolve(process.cwd(), process.argv[2]);

console.log(`Copying files to ${destPath}`);

const copyFileNames = ["wasm-worker.js", "a.out.wasm"];

try {
  mkdirSync(destPath, { recursive: true });

  copyFileNames.forEach(filename => copyFileSync(
    resolve(srcPath, filename),
    resolve(destPath, filename)
  ));
} catch {
  console.error("Could not copy files to path " + destPath);
}
